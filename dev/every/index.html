<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Every Docstring · TightlyBound.jl Documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="TightlyBound.jl Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit">TightlyBound.jl Documentation</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../ug_run/">Running Calculations</a></li><li><a class="tocitem" href="../ug_fit/">Fit Coefficients</a></li></ul></li><li><span class="tocitem">Core User Interface</span><ul><li><a class="tocitem" href="../structs/">Structs</a></li><li><a class="tocitem" href="../core/">Functions</a></li></ul></li><li class="is-active"><a class="tocitem" href>Every Docstring</a><ul class="internal"><li><a class="tocitem" href="#TightlyBound"><span>TightlyBound</span></a></li><li><a class="tocitem" href="#TB"><span>TB</span></a></li><li><a class="tocitem" href="#BandStruct"><span>BandStruct</span></a></li><li><a class="tocitem" href="#DOS"><span>DOS</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Every Docstring</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Every Docstring</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kfgarrity/TightlyBound.jl/blob/master/docs/src/every.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="TightlyBound"><a class="docs-heading-anchor" href="#TightlyBound">TightlyBound</a><a id="TightlyBound-1"></a><a class="docs-heading-anchor-permalink" href="#TightlyBound" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TightlyBound" href="#TightlyBound.TightlyBound"><code>TightlyBound.TightlyBound</code></a> — <span class="docstring-category">Module</span></header><section><div><p>holds three body tight binding important stuff</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.relax_structure-Tuple{TightlyBound.CrystalMod.crystal}" href="#TightlyBound.relax_structure-Tuple{TightlyBound.CrystalMod.crystal}"><code>TightlyBound.relax_structure</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">relax_structure(c::crystal; mode=&quot;vc-relax&quot;)</code></pre><p>Find the lowest energy atomic configuration of crystal c.</p><p><strong>Arguments</strong></p><ul><li><code>c::crystal</code>: the structure to relax, only required argument</li><li><code>mode=&quot;vc-relax&quot;</code>: Default (variable-cell relax) will relax structure and cell, anything else will relax structure only.</li><li><code>database=missing</code>: coefficent database, default is to use the pre-fit pbesol database</li><li><code>smearing=0.01</code>: smearing temperature (ryd), default = 0.01</li><li><code>grid=missing</code>: k-point grid, e.g. [10,10,10], default chosen automatically</li><li><code>nsteps=100</code>: maximum iterations</li><li><code>update_grid=true</code>: update automatic k-point grid during relaxation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L143-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.scf_energy-Tuple{TightlyBound.CrystalMod.crystal}" href="#TightlyBound.scf_energy-Tuple{TightlyBound.CrystalMod.crystal}"><code>TightlyBound.scf_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scf_energy(c::crystal)</code></pre><p>Calculate energy, force, and stress for a crystal. Does self-consistent-field (SCF) calculation if using self-consistent electrostatics.</p><p>returns energy, tight-binding-crystal-object, error-flag</p><p><strong>Arguments</strong></p><ul><li><code>c::crystal</code>: the structure to calculate on. Only required argument.</li><li><code>database=missing</code>: Source of coeficients. Will be loaded from pre-fit coefficients if missing.</li><li><code>smearing=0.01</code>: Gaussian smearing temperature, in Ryd. Usually can leave as default.</li><li><code>grid=missing</code>: k-point grid, e.g. [10,10,10], default chosen automatically</li><li><code>conv_thr = 1e-5</code>: SCF convergence threshold (Ryd).</li><li><code>iter = 75</code>: number of iterations before switch to more conservative settings.</li><li><code>mix = -1.0</code>: initial mixing. -1.0 means use default mixing. Will automagically adjust mixing if SCF is failing to converge.</li><li><code>mixing_mode =:pulay</code>: default is Pulay mixing (DIIS). Other option is :simple, for simple linear mixing of old and new electron-density. Will automatically switch to simple if Pulay fails.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L265-L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.scf_energy-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.scf_energy-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.scf_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scf_energy(tbc::tbc_crys)

SCF energy using crystal structure from TBC object.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L326-L330">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.scf_energy-Tuple{dftout}" href="#TightlyBound.scf_energy-Tuple{dftout}"><code>TightlyBound.scf_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scf_energy(d::dftout)

SCF energy using crystal structure from DFT object.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L314-L318">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.scf_energy_force_stress-Tuple{TightlyBound.CrystalMod.crystal}" href="#TightlyBound.scf_energy_force_stress-Tuple{TightlyBound.CrystalMod.crystal}"><code>TightlyBound.scf_energy_force_stress</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scf_energy_force_stress(c::crystal; database = missing, smearing = 0.01, grid = missing)</code></pre><p>Calculate energy, force, and stress for a crystal.</p><p>returns energy, force, stress, tight<em>binding</em>crystal_object</p><p><strong>Arguments</strong></p><ul><li><code>c::crystal</code>: the structure to calculate on. Only required argument.</li><li><code>database=missing</code>: Source of coeficients. Will be loaded from pre-fit coefficients if missing.</li><li><code>smearing=0.01</code>: Gaussian smearing temperature, in Ryd. Usually can leave as default.</li><li><code>grid=missing</code>: k-point grid, e.g. [10,10,10], default chosen automatically</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L193-L206">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.scf_energy_force_stress-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.scf_energy_force_stress-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.scf_energy_force_stress</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scf_energy_force_stress(tbc::tb_crys; database = missing, smearing = 0.01, grid = missing)</code></pre><p>Calculate energy, force, and stress for a tight binding crystal object. This allows the calculation to run without re-doing the SCF calculation. Assumes SCF already done!</p><p>returns energy, force, stress, tight<em>binding</em>crystal_object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L233-L242">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.set_units-Tuple{}" href="#TightlyBound.set_units-Tuple{}"><code>TightlyBound.set_units</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function set_units(;energy=missing, length=missing, both=missing)</code></pre><p>Set global units for energy/length. Run with no arguments to check/return current units.</p><ul><li>Default units are <code>&quot;eV&quot;</code> and <code>&quot;Angstrom&quot;</code> (or <code>&quot;Å&quot;</code> or <code>&quot;Ang&quot;</code> ).</li><li>Choose atomic units by setting <code>energy=&quot;Ryd&quot;</code> and <code>length=&quot;Bohr&quot;</code>.</li><li>Set both at the same time with <code>both=&quot;atomic&quot;</code> or <code>both=&quot;eVAng&quot;</code></li><li>Internally, all units are atomic. Only main public facing functions actually change units.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TightlyBound.jl#L82-L91">source</a></section></article><h2 id="TB"><a class="docs-heading-anchor" href="#TB">TB</a><a id="TB-1"></a><a class="docs-heading-anchor-permalink" href="#TB" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.tb" href="#TightlyBound.TB.tb"><code>TightlyBound.TB.tb</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct tb{T}</code></pre><p>Holds key tight-binding information in real-space. Like hr<em>dat file from Wannier90. Also part of the `tb</em>crys` object.</p><p><strong>Holds</strong></p><ul><li><code>H::Array{Complex{T},3}</code> Hamiltonian. <code>nw</code>×<code>nw</code>×<code>nr</code></li><li><code>ind_array::Array{Int64,3}</code> <code>nr</code>×3 , holds the r-space supercells of the TB object.</li><li><code>r_dict::Dict</code> keys are three Ints like [0,0,0], returns the corresponding <code>ind_array</code> index.</li><li><code>nwan::Int</code> Number of orbitals (generalized wannier functions).</li><li><code>nr::Int64</code> number of R-space supercells.</li><li><code>nonorth::Bool</code> :  <code>true</code> if non-orthogonal. Almost always <code>true</code> in this code.</li><li><code>S::Array{Complex{T},3}</code> : Overlap matrix, organized like <code>H</code></li><li><code>scf::Bool</code> equal to <code>true</code> if requires self-consistency (usually <code>true</code> for fit <code>tb</code>, <code>false</code> for direct from DFT)</li><li><code>h1::Array{T,2}</code> Has the term determined by scf calculations, if calculated already.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L75-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.tb_crys" href="#TightlyBound.TB.tb_crys"><code>TightlyBound.TB.tb_crys</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct tb_crys{T}</code></pre><p>Main tight-binding object, holds the tight-biding model <code>tb</code> and information about the <code>crystal</code></p><p><strong>Holds</strong></p><ul><li><code>tb::tb</code> Has the key tb info (see above)</li><li><code>crys::crystal</code> Has the crystal structure</li><li><code>nelec::Float64</code> Number of electrons</li><li><code>dftenergy::Float64</code> DFT energy for reference, only for fit to DFT cases.</li><li><code>scf::Bool</code>  <code>true</code> if requires self-consistency.</li><li><code>gamma::Array{T, 2}</code> has the ewald calculation results, needed for self-consistency.</li><li><code>eden::Array{Float64,1}</code> electron density, by orbital, if calculated by self-consistency.</li><li><code>within_fit::Bool</code> is <code>true</code> if model is passes tests of being within the fitting parameter space, <code>false</code> for extrapolation</li><li><code>energy::Float64</code> energy in Ryd, if calculated.</li><li><code>efermi::Float64</code> Fermi energy in Ryd, if calculated.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L118-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.tb_crys_kspace" href="#TightlyBound.TB.tb_crys_kspace"><code>TightlyBound.TB.tb_crys_kspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct tb_crys_kspace{T}</code></pre><p>Hold k-point tight binding and crystal structure. Similar to <code>tb_crys</code></p><p><strong>Holds</strong></p><ul><li><code>tb::tb_k</code></li><li><code>crys::crystal</code></li><li><code>nelec::Float64</code></li><li><code>dftenergy::Float64</code></li><li><code>scf::Bool</code></li><li><code>gamma::Array{T, 2}</code></li><li><code>eden::Array{Float64,1}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L223-L236">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.tb_k" href="#TightlyBound.TB.tb_k"><code>TightlyBound.TB.tb_k</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct tb_k{T}</code></pre><p>Tight binding object in k-space. Can be from direct import of DFT band structure using atomic proj, or from fft&#39;ed tb object. Similar to real-space version.</p><p><strong>Holds</strong></p><ul><li><code>Hk::Array{Complex{T},3}</code> Hamiltonian in k-space</li><li><code>K::Array{Float64,2}</code> K point array. In fractional coordinates of BZ.</li><li><code>kweights::Array{Float64,1}</code> K point weights.</li><li><code>k_dict::Dict</code> Dictionary from k-point like [0,0,0] to index.</li><li><code>nwan::Int64</code> Number of orbitals / generalized wannier functions.</li><li><code>nk::Int64</code> Number of k-points.</li><li><code>nonorth::Bool</code> </li><li><code>Sk::Array{Complex{T},3}</code> Overlap matrix.</li><li><code>scf::Bool</code> needs self-consistency?</li><li><code>h1::Array{T,2} #scf term</code> holds scf term if present</li><li><code>grid::Array{Int64,1}</code> dimensions of k-point grid, from regular grid like <code>[8,8,8]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L171-L191">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.Hk-Tuple{Any,Any,TightlyBound.TB.tb,Any}" href="#TightlyBound.TB.Hk-Tuple{Any,Any,TightlyBound.TB.tb,Any}"><code>TightlyBound.TB.Hk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function Hk(hk,sk, h::tb, kpoint)</code></pre><p>Hk function with pre-allocated memory hk, sk</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1312-L1316">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb,Any}" href="#TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb,Any}"><code>TightlyBound.TB.Hk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function Hk(h::tb, kpoint)</code></pre><p>Calculate band structure at a k-point from <code>tb</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1539-L1543">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb_crys,Any}" href="#TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb_crys,Any}"><code>TightlyBound.TB.Hk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function Hk(h::tb_crys, kpoint)</code></pre><p>Calculate band structure at a k-point from <code>tb_crys</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1553-L1557">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb_crys_kspace,Any}" href="#TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb_crys_kspace,Any}"><code>TightlyBound.TB.Hk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function Hk(h::tb_crys_kspace, kpoint)</code></pre><p>Calculate band structure at a k-point from a <code>tb_crys_kspace</code> object. Note, can only return precalculated k-points. Need real-space version to get arbitrary k-points.</p><p>#Returns</p><ul><li><code>vect</code> - Eigenvectors num<em>wan × num</em>wan complex matrix at kpoint</li><li><code>vals</code> - Eigenvalues (num_wan)</li><li><code>hk</code> - Hamiltonian at kpoint</li><li><code>sk</code> - Overlap matrix at kpoint</li><li><code>vals0</code> - &lt;vect | Hk0 | vect&gt; where Hk0 is the non-scf part of the Hamiltonian.</li></ul><p>#Arguments</p><ul><li><code>h::tb_crys_kspace</code> - tb<em>crys</em>kspace object</li><li><code>kpoint</code> - e.g. <code>[0.0,0.0,0.0]</code></li><li><code>scf=missing</code> - default is to take SCF from h.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1201-L1219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb_k,Any}" href="#TightlyBound.TB.Hk-Tuple{TightlyBound.TB.tb_k,Any}"><code>TightlyBound.TB.Hk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function Hk(h::tb_k, kpoint)</code></pre><p>Calculate band structure at a k-point from <code>tb_k</code>. Must be pre-calculated k-point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1226-L1230">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_bands-Tuple{Any,Array{Float64,2}}" href="#TightlyBound.TB.calc_bands-Tuple{Any,Array{Float64,2}}"><code>TightlyBound.TB.calc_bands</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_bands(h, kpoints::Array{Float64,2})</code></pre><p>Calculate bandstructure for k-points from k-point array. h is a <code>tb</code> or <code>tb_k</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1440-L1444">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_bands-Tuple{TightlyBound.TB.tb_crys,Array{Float64,2}}" href="#TightlyBound.TB.calc_bands-Tuple{TightlyBound.TB.tb_crys,Array{Float64,2}}"><code>TightlyBound.TB.calc_bands</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_bands(tbc::tb_crys, kpoints::Array{Float64,2})</code></pre><p>Calculate bandstructure for k-points from k-point array. Returns eigenvalues.</p><p><strong>Arguments</strong></p><ul><li><code>tbc::tb_crys</code> - The tight binding object</li><li><code>kpoints::Array{Float64,2}</code> - k-point array. e.g. <code>[0.0 0.0 0.0; 0.0 0.0 0.1]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1422-L1430">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy-Tuple{TightlyBound.TB.tb_crys,Any}" href="#TightlyBound.TB.calc_energy-Tuple{TightlyBound.TB.tb_crys,Any}"><code>TightlyBound.TB.calc_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy(h::tb_crys, kgrid; smearing=0.01, returnk=false)</code></pre><p>Calculate energy no fft</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1968-L1972">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.calc_energy-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.calc_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy(tbc::tb_crys; smearing=0.01, returnk=false)</code></pre><p>Calculate energy without fft.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1911-L1915">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy_band-Tuple{TightlyBound.TB.tb,Any,Any}" href="#TightlyBound.TB.calc_energy_band-Tuple{TightlyBound.TB.tb,Any,Any}"><code>TightlyBound.TB.calc_energy_band</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy_band(h::tb, nelec, kgrid; smearing=0.01, returnk=false)</code></pre><p>calculate energy no fft</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1999-L2003">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy_charge_fft-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.calc_energy_charge_fft-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.calc_energy_charge_fft</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy_charge_fft(tbc::tb_crys; grid=missing, smearing=0.01)</code></pre><p>Do fft, then calculate energy and charge.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1879-L1883">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy_charge_fft_band-Tuple{Any,Any,Any}" href="#TightlyBound.TB.calc_energy_charge_fft_band-Tuple{Any,Any,Any}"><code>TightlyBound.TB.calc_energy_charge_fft_band</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy_charge_fft_band(hk3, sk3, nelec; smearing=0.01, h1 = missing)</code></pre><p>Calculate energy and charge density. For internal use.</p><p><code>return energy0, efermi, chargeden[:], VECTS, VALS, error_flag</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1663-L1669">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy_fft-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.calc_energy_fft-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.calc_energy_fft</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy_fft(tbc::tb_crys; grid=missing, smearing=0.01, return_more_info=false)</code></pre><p>Get energy using fft.</p><p>returns energy</p><p>if <code>return_more_info==true</code> then returns <code>etot, efermi, vals, vects</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1566-L1576">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.calc_energy_fft_band-Tuple{Any,Any,Any}" href="#TightlyBound.TB.calc_energy_fft_band-Tuple{Any,Any,Any}"><code>TightlyBound.TB.calc_energy_fft_band</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function calc_energy_fft_band(hk3, sk3, nelec; smearing=0.01, return_more_info=false, h1 = missing)</code></pre><p>Return energy from hamiltonian <code>hk3</code>, overlap <code>sk3</code>, <code>nelec</code>, etc. Primarly for internal calling after fft.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1598-L1603">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.ewald_energy" href="#TightlyBound.TB.ewald_energy"><code>TightlyBound.TB.ewald_energy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function ewald_energy(tbc::tb_crys_kspace, delta_q=missing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2753-L2755">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.ewald_energy" href="#TightlyBound.TB.ewald_energy"><code>TightlyBound.TB.ewald_energy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function ewald_energy(tbc::tb_crys, delta_q=missing)</code></pre><p>Return ewald energy term from tbc. If <code>delta_q</code>, the atomic charge density, is missing, loads from <code>tbc</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2734-L2739">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.ewald_energy-Tuple{TightlyBound.CrystalMod.crystal,Any,Array{Float64,1}}" href="#TightlyBound.TB.ewald_energy-Tuple{TightlyBound.CrystalMod.crystal,Any,Array{Float64,1}}"><code>TightlyBound.TB.ewald_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function ewald_energy(crys::crystal, gamma, delta_q::Array{Float64,1})</code></pre><p>Does the actual calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2769-L2773">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.find_vbm_cbm-Tuple{Any,Any}" href="#TightlyBound.TB.find_vbm_cbm-Tuple{Any,Any}"><code>TightlyBound.TB.find_vbm_cbm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function find_vbm_cbm(eigs, fermi)</code></pre><p>Find the valence band max and conduction band minimum from eigs, relative to Fermi level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2712-L2716">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_dq-Tuple{TightlyBound.CrystalMod.crystal,Array{Float64,1}}" href="#TightlyBound.TB.get_dq-Tuple{TightlyBound.CrystalMod.crystal,Array{Float64,1}}"><code>TightlyBound.TB.get_dq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_dq(crys::crystal, chargeden::Array{Float64,1})</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2895-L2897">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_dq-Tuple{TightlyBound.TB.tb_crys_kspace}" href="#TightlyBound.TB.get_dq-Tuple{TightlyBound.TB.tb_crys_kspace}"><code>TightlyBound.TB.get_dq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_dq(tbc::tb_crys_kspace)</code></pre><p>Get atomic charge density from <code>tb_crys</code> or <code>tb_crys_kspace</code> or <code>crys + eden</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2879-L2883">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_dq-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.get_dq-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.get_dq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_dq(tbc::tb_crys)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2888-L2890">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_energy_electron_density_kspace-Tuple{TightlyBound.TB.tb_crys_kspace}" href="#TightlyBound.TB.get_energy_electron_density_kspace-Tuple{TightlyBound.TB.tb_crys_kspace}"><code>TightlyBound.TB.get_energy_electron_density_kspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_energy_electron_density_kspace(tbcK::tb_crys_kspace; smearing = 0.01)</code></pre><p>Get energy / charge density from k-space tight binding object.</p><p><code>return bandenergy + etypes + echarge + energy_smear, eden, VECTS, VALS, error_flag</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L3014-L3021">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_energy_electron_density_kspace-Tuple{TightlyBound.TB.tb_k,Any}" href="#TightlyBound.TB.get_energy_electron_density_kspace-Tuple{TightlyBound.TB.tb_k,Any}"><code>TightlyBound.TB.get_energy_electron_density_kspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_energy_electron_density_kspace(tb_k::tb_k, nelec; smearing = 0.01)</code></pre><p>K-space get energy and electron density from <code>tb_k</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L3044-L3048">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys,Array{Float64,1}}" href="#TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys,Array{Float64,1}}"><code>TightlyBound.TB.get_h1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_h1(tbc::tb_crys, chargeden::Array{Float64,1})</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2936-L2938">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys_kspace,Array{Float64,1}}" href="#TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys_kspace,Array{Float64,1}}"><code>TightlyBound.TB.get_h1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_h1(tbc::tb_crys_kspace, chargeden::Array{Float64,1})</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2979-L2981">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys_kspace}" href="#TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys_kspace}"><code>TightlyBound.TB.get_h1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_h1(tbc::tb_crys_kspace)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2972-L2974">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.get_h1-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.get_h1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_h1(tbc::tb_crys)</code></pre><p>Get H1, the potential term added to tight binding in SCF calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2926-L2930">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_neutral_eden" href="#TightlyBound.TB.get_neutral_eden"><code>TightlyBound.TB.get_neutral_eden</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function get_neutral_eden(crys::crystal, nwan=missing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2805-L2807">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_neutral_eden-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.get_neutral_eden-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.get_neutral_eden</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function get_neutral_eden(tbc::tb_crys)</code></pre><p>Gets a neutral charge density (no charge transfer) to start SCF calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2794-L2798">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.get_sym_R" href="#TightlyBound.TB.get_sym_R"><code>TightlyBound.TB.get_sym_R</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function get_sym_R(crys, grid, sss = 1.0)</code></pre><p>Figures out the r-space grid using Wigner-Seitz like construction to figure out the best arrangement of r-grid points to keep periodic copies closest to the original atom  and take into account symmetry.</p><p><code>return R_grid, R_int_grid, sym_R</code></p><p>returns the R_grid, the integer version, and the symmetry factor of each point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2466-L2477">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.load_hr_dat" href="#TightlyBound.TB.load_hr_dat"><code>TightlyBound.TB.load_hr_dat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function load_hr_dat(filename, directory=&quot;&quot;)</code></pre><p>Load a wannier90 hr.dat file Not curretnly a major part of program, but you can use if you want.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1087-L1091">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_kgrid-Tuple{Any}" href="#TightlyBound.TB.make_kgrid-Tuple{Any}"><code>TightlyBound.TB.make_kgrid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_kgrid(kgrid)</code></pre><p>-<code>kgrid</code> is an array of 3 integers like <code>[8,8,8]</code> </p><p>returns regular zero-centered k-point grid and (equal) k-weights.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2017-L2023">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_tb-Tuple{Any,Any,Any}" href="#TightlyBound.TB.make_tb-Tuple{Any,Any,Any}"><code>TightlyBound.TB.make_tb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_tb(H, ind_arr, S; h1=missing)</code></pre><p>Constructor function for <code>tb</code>, better programming.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1049-L1053">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_tb-Tuple{Any,Any,Dict,Any}" href="#TightlyBound.TB.make_tb-Tuple{Any,Any,Dict,Any}"><code>TightlyBound.TB.make_tb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_tb(H, ind_arr, r_dict::Dict, S; h1=missing)</code></pre><p>Constructor function for <code>tb</code> with overlaps</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L947-L951">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_tb-Tuple{Any,Any,Dict}" href="#TightlyBound.TB.make_tb-Tuple{Any,Any,Dict}"><code>TightlyBound.TB.make_tb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_tb(H, ind_arr, r_dict::Dict; h1=missing)</code></pre><p>Constructor function for <code>tb</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L915-L919">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_tb_crys-Tuple{TightlyBound.TB.tb,TightlyBound.CrystalMod.crystal,Float64,Float64}" href="#TightlyBound.TB.make_tb_crys-Tuple{TightlyBound.TB.tb,TightlyBound.CrystalMod.crystal,Float64,Float64}"><code>TightlyBound.TB.make_tb_crys</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_tb_crys(ham::tb,crys::crystal, nelec::Float64, dftenergy::Float64; scf=false, eden = missing, gamma=missing, within_fit=true, screening=1.0, tb_energy=-999, fermi_energy=0.0 )</code></pre><p>Constructor function for <code>tb_crys</code> object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L860-L864">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_tb_crys_kspace-Tuple{TightlyBound.TB.tb_k,TightlyBound.CrystalMod.crystal,Float64,Float64}" href="#TightlyBound.TB.make_tb_crys_kspace-Tuple{TightlyBound.TB.tb_k,TightlyBound.CrystalMod.crystal,Float64,Float64}"><code>TightlyBound.TB.make_tb_crys_kspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_tb_crys_kspace(hamk::tb_k,crys::crystal, nelec::Float64, dftenergy::Float64; scf=false, eden = missing, gamma=missing, screening=1.0)</code></pre><p>Constructor function for <code>tb_crys_kspace</code> object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L890-L894">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.make_tb_k-NTuple{4,Any}" href="#TightlyBound.TB.make_tb_k-NTuple{4,Any}"><code>TightlyBound.TB.make_tb_k</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function make_tb_k(Hk, K, kweights, Sk; h1=missing, grid=[0,0,0], nonorth=true)</code></pre><p>Constructor for <code>tb_kspace</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L983-L987">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.myfft" href="#TightlyBound.TB.myfft"><code>TightlyBound.TB.myfft</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function myfft(crys, nonorth, grid, kpts,ham_kS, Sk=missing)</code></pre><p>Does Fourier Transform K-&gt;R (ifft) using FFTW.</p><p>Arguments</p><ul><li><code>crys</code> crystal</li><li><code>nonorth</code> nonorogonal bool</li><li><code>grid</code> k-point grid size</li><li><code>kpts</code> the k-points <code>nkpts</code>×<code>3</code> in the original order, to be rearranged into grid</li><li><code>ham_kS</code> hamiltonian in k space (<code>nw</code>×<code>nw</code>×<code>nkpts</code>)</li><li><code>Sk</code> overlaps in k space</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2347-L2360">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.myfft_R_to_K" href="#TightlyBound.TB.myfft_R_to_K"><code>TightlyBound.TB.myfft_R_to_K</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function myfft_R_to_K(tbc, grid=missing)</code></pre><p>Does Fourier Transform R-&gt;k (fft) using FFTW for tb_crys</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2295-L2299">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.organizedata-Tuple{TightlyBound.CrystalMod.crystal,TightlyBound.TB.tb}" href="#TightlyBound.TB.organizedata-Tuple{TightlyBound.CrystalMod.crystal,TightlyBound.TB.tb}"><code>TightlyBound.TB.organizedata</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function organizedata(crys::crystal, h::tb)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2177-L2179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.organizedata-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.organizedata-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.organizedata</code></a> — <span class="docstring-category">Method</span></header><section><div><p>function organizedata(tbc::tb_crys)</p><p>Rearrange the data in the tbc as a function of distances for plotting purposes.</p><p><code>return data_onsite, data_arr</code></p><p>Returns two arrays. The first has data on the onsite elements.</p><ul><li>column 1 and 3 have atom indexes</li><li>column 2 and 4 have orbital numbers</li><li>columns 5 and 6 have real and imaginary parts of H</li><li>columns 11 and 12 have real and imaginary parts of S</li><li>column 7 has the closest inter-atomic distance</li><li>column 8 has the index of the closest atom.</li></ul><p>The second has intersite data</p><ul><li>column 1 and 3 have atom indexes for the atom pairs</li><li>column 2 and 4 have orbital numbers</li><li>columns 5 and 6 have real and imaginary parts of H</li><li>columns 11 and 12 have real and imaginary parts of S</li><li>column 7 has the inter-atomic distance</li><li>column 8,9,10 have the the direction cosines lmn for the atom pair.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2145-L2170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.read_tb_crys-Tuple{Any}" href="#TightlyBound.TB.read_tb_crys-Tuple{Any}"><code>TightlyBound.TB.read_tb_crys</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function read_tb_crys(filename, tbc::tb_crys)</code></pre><p>Reads and returns from <code>filename</code> a <code>tb_crys</code> object. See <code>write_tb_crys</code></p><p>If cannot find <code>&quot;filename&quot;</code>, will look for <code>&quot;filename.xml&quot;</code>, <code>&quot;filename.gz&quot;</code>, <code>&quot;filename.xml.gz&quot;</code></p><p>Can read gzipped files directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L294-L303">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.read_tb_crys_kspace-Tuple{Any}" href="#TightlyBound.TB.read_tb_crys_kspace-Tuple{Any}"><code>TightlyBound.TB.read_tb_crys_kspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function read_tb_crys_kspace(filename; directory=missing)</code></pre><p>Reads and returns from <code>filename</code> a <code>tb_crys_kspace</code> object. See <code>write_tb_crys_kspace</code></p><p>If cannot find <code>&quot;filename&quot;</code>, will look for <code>&quot;filename.xml&quot;</code>, <code>&quot;filename.gz&quot;</code>, <code>&quot;filename.xml.gz&quot;</code></p><p>Can read gzipped files directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L472-L482">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.renormalize_tb-Tuple{dftout,TightlyBound.TB.tb}" href="#TightlyBound.TB.renormalize_tb-Tuple{dftout,TightlyBound.TB.tb}"><code>TightlyBound.TB.renormalize_tb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function renormalize_tb(d::dftout, h::tb)</code></pre><p>Shift eigenvalues from DFT calculation so that the band energy matches the DFT total energy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2097-L2102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.summarize_orb-Tuple{Symbol}" href="#TightlyBound.TB.summarize_orb-Tuple{Symbol}"><code>TightlyBound.TB.summarize_orb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function summarize_orb(orb::Symbol)</code></pre><p>Convert exact orbital (:px) to type of orbital :p .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1480-L1484">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.symm_by_orbitals-Tuple{TightlyBound.CrystalMod.crystal,Any}" href="#TightlyBound.TB.symm_by_orbitals-Tuple{TightlyBound.CrystalMod.crystal,Any}"><code>TightlyBound.TB.symm_by_orbitals</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function symm_by_orbitals(crys::crystal, mat)</code></pre><p>Helper function to re-symmeterize the overlap matrix properly, starting from incomplete k-points.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2678-L2682">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.tb_indexes-Tuple{dftout}" href="#TightlyBound.TB.tb_indexes-Tuple{dftout}"><code>TightlyBound.TB.tb_indexes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function tb_indexes(d::dftout)</code></pre><p>Figures out mapping between DFT projected hamiltonian orbitals and crystal and the wannier orbitals we want.</p><p><code>return wan, semicore, nwan, nsemi, wan_atom, atom_wan</code></p><ul><li><code>wan</code> has the indexes of the wannier orbitals</li><li><code>semicore</code> has the indexes of semicore states.</li><li><code>nwan</code> number of wannier orbs</li><li><code>nsemi</code> number of semicore states</li><li><code>wan_atom</code> dictionary wannier to atom numbers</li><li><code>atom_wan</code> dictionary atom numbers to wannier orbitals</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2617-L2630">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.trim" href="#TightlyBound.TB.trim"><code>TightlyBound.TB.trim</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function trim(h::tb, tol=0.0002)</code></pre><p>Remove terms in <code>tb</code> with abs value smaller than <code>tol</code>. (Ryd) Will speed calculations at cost of accuracy. USE WITH CARE. Usually not necessary except for very large or very detailed calculations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L2060-L2066">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.types_energy-Tuple{Any}" href="#TightlyBound.TB.types_energy-Tuple{Any}"><code>TightlyBound.TB.types_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function types_energy(types)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1955-L1957">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.types_energy-Tuple{TightlyBound.CrystalMod.crystal}" href="#TightlyBound.TB.types_energy-Tuple{TightlyBound.CrystalMod.crystal}"><code>TightlyBound.TB.types_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function types_energy(c::crystal)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1947-L1949">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.types_energy-Tuple{TightlyBound.TB.tb_crys_kspace}" href="#TightlyBound.TB.types_energy-Tuple{TightlyBound.TB.tb_crys_kspace}"><code>TightlyBound.TB.types_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function types_energy(tbc::tb_crys)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1938-L1940">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.types_energy-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.types_energy-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.types_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function types_energy(tbc::tb_crys)</code></pre><p>Calculate the reference energy of each atom in crystal. This results in the  total energy being indexed to seperated non-spin-polarized atoms. This is arbirary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L1926-L1931">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.write_tb_crys-Tuple{Any,TightlyBound.TB.tb_crys}" href="#TightlyBound.TB.write_tb_crys-Tuple{Any,TightlyBound.TB.tb_crys}"><code>TightlyBound.TB.write_tb_crys</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function write_tb_crys(filename, tbc::tb_crys)</code></pre><p>Writes to <code>filename</code> a <code>tb_crys</code> object, using xml formatting. See <code>read_tb_crys</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L662-L667">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.TB.write_tb_crys_kspace-Tuple{Any,TightlyBound.TB.tb_crys_kspace}" href="#TightlyBound.TB.write_tb_crys_kspace-Tuple{Any,TightlyBound.TB.tb_crys_kspace}"><code>TightlyBound.TB.write_tb_crys_kspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function write_tb_crys_kspace(filename, tbc::tb_crys_kspace)</code></pre><p>Save a <code>tb_crys_kspace</code> object to xml format. See <code>read_tb_crys_kspace</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/TB.jl#L762-L766">source</a></section></article><h2 id="BandStruct"><a class="docs-heading-anchor" href="#BandStruct">BandStruct</a><a id="BandStruct-1"></a><a class="docs-heading-anchor-permalink" href="#BandStruct" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.BandStruct.get_kpath" href="#TightlyBound.BandStruct.get_kpath"><code>TightlyBound.BandStruct.get_kpath</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function get_kpath(kpath=[0.5 0 0 ; 0 0 0; 0.5 0.5 0.5], names = missing, npts=30)</code></pre><p>Construct a k_path for a band structure calculations. Very simple.</p><ul><li><code>kpath</code> high symmetry k-points in fractional BZ coordinates.</li><li><code>names</code> names of kpoints like <code>[&quot;Γ&quot;, &quot;X&quot;]</code></li><li><code>npts</code> number of points between high-symmetry kpoints</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/BandStruct.jl#L147-L155">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.BandStruct.plot_bandstr-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.BandStruct.plot_bandstr-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.BandStruct.plot_bandstr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function plot_bandstr(h::tb_crys; kpath, names = missing, proj_types=missing, proj_orbs = missing, proj_nums=missing)</code></pre><p>Plot the band structure of a <code>tb_crys</code> object. Can also perform a projected band structure if you specify at least one of <code>proj_types</code>, <code>proj_orbs</code>, <code>proj_nums</code>.</p><p>k-path specified by a kpath array and names.</p><p><strong>Arguments</strong></p><ul><li><code>h::tb_crys</code> - The tight-biding object we want to plot bands from. Only required argument.</li><li><code>kpath=[0.5 0 0 ; 0 0 0; 0.5 0.5 0.5; 0 0.5 0.5; 0 0 0 ;0 0 0.5]</code> - <code>nk</code> × 3 array k-point path (high symmetry points).</li><li><code>npts=30,</code> - number of points between high-symmetry k-points.</li><li><code>names=missing</code> - <code>nk</code> string array. Names of the high-symmetry k-points </li><li><code>proj_types=missing</code> - types to project onto. Either <code>proj_types=&quot;H&quot;</code> or <code>proj_types=[&quot;H&quot;, &quot;O&quot;]</code> are valid.</li><li><code>proj_orbs=missing</code> - orbitals to project onto. either <code>proj_orbs=:s</code> or <code>proj_orbs=[:s, :p]</code>.</li><li><code>proj_nums=missing</code> - atom numbers to project onto. Either <code>proj_nums=1</code> or <code>proj_nums=[1, 2]</code></li><li><code>efermi=missing</code> - allows you to specify fermi energy. Default is to take from <code>h</code></li><li><code>color=&quot;blue&quot;</code> - specify line color</li><li><code>MarkerSize=missing&quot;</code> - specify markersize</li><li><code>yrange=missing&quot;</code> - specify y-range. e.g. <code>yrange=[-0.7, 0.3]</code></li><li><code>plot_hk=false</code> - plot things besides the normal band structure. Can be one of <code>:Seig, :Heig, :Hreal, :Himag, :Sreal, :Simag</code> to plot H or S eigvals or components. Primarily for debugging.</li><li><code>align=&quot;vbm&quot;</code> - default or <code>&quot;valence&quot;</code> is to align valence band max to zero energy. Can also be <code>&quot;min&quot;</code>, which aligns on the minimum eigenvalue, or <code>&quot;fermi&quot;</code> or <code>&quot;ef&quot;</code>, which align on the Fermi level, </li><li><code>clear_pervious=true</code> - clears the plot before adding new stuff.</li><li><code>do_display=true</code> - display the plot. If <code>false</code>, can be used with display-less nodes. You can still use <code>savefig</code> from <code>Plots</code> to produce saved images.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/BandStruct.jl#L71-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.BandStruct.plot_bandstr-Tuple{TightlyBound.TB.tb}" href="#TightlyBound.BandStruct.plot_bandstr-Tuple{TightlyBound.TB.tb}"><code>TightlyBound.BandStruct.plot_bandstr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function plot_bandstr(h::tb)</code></pre><p>Plots using <code>tb</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/BandStruct.jl#L196-L200">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.BandStruct.plot_compare_dft-Tuple{TightlyBound.TB.tb_crys,Any}" href="#TightlyBound.BandStruct.plot_compare_dft-Tuple{TightlyBound.TB.tb_crys,Any}"><code>TightlyBound.BandStruct.plot_compare_dft</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function plot_compare_dft(tbc::tb_crys, bs; tbc2=missing)</code></pre><p>Plots a band structure comparison between a tight-binding crystal object (<code>tb_crys</code>) and a band structure directly from dft (either a <code>dftout</code> or <code>bs</code> object). </p><p>The k-points are fixed by the <code>bs</code> object.</p><p>tbc2 is an optional second <code>tbc_crys</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/BandStruct.jl#L392-L401">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.BandStruct.plot_compare_tb-Tuple{TightlyBound.TB.tb,TightlyBound.TB.tb}" href="#TightlyBound.BandStruct.plot_compare_tb-Tuple{TightlyBound.TB.tb,TightlyBound.TB.tb}"><code>TightlyBound.BandStruct.plot_compare_tb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function plot_compare_tb(h1::tb, h2::tb; h3=missing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/BandStruct.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.BandStruct.plot_compare_tb-Tuple{TightlyBound.TB.tb_crys,TightlyBound.TB.tb_crys}" href="#TightlyBound.BandStruct.plot_compare_tb-Tuple{TightlyBound.TB.tb_crys,TightlyBound.TB.tb_crys}"><code>TightlyBound.BandStruct.plot_compare_tb</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function plot_compare_tb(h1::tb_crys, h2::tb_crys; h3=missing)</code></pre><p>Plot a comparison between different tight binding objects <code>h1</code>, <code>h2</code>, and optionally <code>h3</code>. Options similar to <code>plot_bandstr</code> but more limited.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/BandStruct.jl#L43-L48">source</a></section></article><h2 id="DOS"><a class="docs-heading-anchor" href="#DOS">DOS</a><a id="DOS-1"></a><a class="docs-heading-anchor-permalink" href="#DOS" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.DOS.dos-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.DOS.dos-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.DOS.dos</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function dos(tbc::tb_crys; grid=missing, npts=300, proj_type=missing, do_display=true)</code></pre><p>DOS, using tetrahedral integration</p><ul><li><code>grid</code> is the k-point grid. Defaults to 1.6 times the default grid for energy integration.</li><li><code>npts</code> is number of energies</li><li><code>proj_type</code> can be <code>&quot;none&quot;</code>, <code>&quot;atomic&quot;</code>, or <code>&quot;orbital&quot;</code>. Defaults to <code>atomic</code> if more than one atom type.</li><li><code>do_display=false</code> will suppress plotting</li></ul><p>return energies, dos, projected<em>dos, pdos</em>names</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/DOS.jl#L302-L313">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.DOS.gaussian_dos-Tuple{TightlyBound.TB.tb_crys}" href="#TightlyBound.DOS.gaussian_dos-Tuple{TightlyBound.TB.tb_crys}"><code>TightlyBound.DOS.gaussian_dos</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function gaussian_dos(tbc::tb_crys; grid=missing, smearing=0.02, npts=500, proj_type=missing, do_display=true)</code></pre><p>Simple Gaussian DOS, mostly for testing.</p><ul><li><code>npts</code> is number of energies</li><li><code>proj_type</code> can be <code>&quot;none&quot;</code>, <code>&quot;atomic&quot;</code>, or <code>&quot;orbital&quot;</code></li><li><code>do_display=false</code> will suppress the actual plot</li></ul><p>The combination of <code>smearing</code> and <code>grid</code> are important to get converged results.</p><p>See also <code>dos</code></p><p>return energies, dos, projected<em>dos, pdos</em>names</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/DOS.jl#L121-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.DOS.plot_dos-NTuple{4,Any}" href="#TightlyBound.DOS.plot_dos-NTuple{4,Any}"><code>TightlyBound.DOS.plot_dos</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function plot_dos(energies, dos, pdos, names; filename=missing, do_display=true)</code></pre><p>Does the actual DOS plotting, called by <code>dos</code> or <code>gaussian_dos</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/DOS.jl#L584-L588">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.DOS.projection-Tuple{TightlyBound.TB.tb_crys,Any,Any,Any}" href="#TightlyBound.DOS.projection-Tuple{TightlyBound.TB.tb_crys,Any,Any,Any}"><code>TightlyBound.DOS.projection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function projection(tbc::tb_crys, vects, sk3, grid; ptype=missing)</code></pre><p>Figures out the projections.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/DOS.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TightlyBound.DOS.setup_tetra-Tuple{Any}" href="#TightlyBound.DOS.setup_tetra-Tuple{Any}"><code>TightlyBound.DOS.setup_tetra</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function setup_tetra(grid)</code></pre><p>Setup simple tetrahedron method based on tetra.f90 in QE. Simple tetra method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kfgarrity/TightlyBound.jl/blob/f1acbb2655cb5853c034c64fb1fcb02d73252b61/src/DOS.jl#L208-L214">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../core/">« Functions</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 6 March 2021 01:07">Saturday 6 March 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
